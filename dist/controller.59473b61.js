!function(){var e={};var t=function(t){var n=e[t];if(null==n)throw new Error("Could not resolve bundle with id "+t);return n};(function(t){for(var n=Object.keys(t),r=0;r<n.length;r++)e[n[r]]=t[n[r]]})(JSON.parse('{"37e394cf82e42d68":"controller.59473b61.js","2c7a91cd6e04815d":"icons.c781f215.svg"}'));function n(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var r=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error("Request took too long! Timeout after ".concat(e," second")))}),1e3*e)}))},o=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:void 0,e.prev=1,o=n?fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}):fetch(t),e.next=5,Promise.race([o,r(10)]);case 5:return i=e.sent,e.next=8,i.json();case 8:if(a=e.sent,i.ok){e.next=11;break}throw new Error("".concat(a.message," (").concat(i.status,")"));case 11:return e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,u,"next",e)}function u(e){n(a,o,i,c,u,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,d={recipe:{},search:{query:"",results:[],page:1,resultsPerPage:10},bookmarks:[]},h=function(e){var t=e.data.recipe;return l({id:t.id,title:t.title,publisher:t.publisher,sourceUrl:t.source_url,image:t.image_url,servings:t.servings,cookingTime:t.cooking_time,ingredients:t.ingredients},t.key&&{key:t.key})},y=function(){var e=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/").concat(t,"?key=").concat("1f4fae44-e9e4-44e0-b64b-1bbc12187227"));case 3:n=e.sent,d.recipe=h(n),d.bookmarks.some((function(e){return e.id===t}))?d.recipe.bookmarked=!0:d.recipe.bookmarked=!1,console.log(d.recipe),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error("".concat(e.t0,"ðŸ’¥")),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d.search.query=t,e.next=4,o("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?search=").concat(t,"&key=").concat("1f4fae44-e9e4-44e0-b64b-1bbc12187227"));case 4:n=e.sent,d.search.results=n.data.recipes.map((function(e){return l({id:e.id,title:e.title,publisher:e.publisher,image:e.image_url},e.key&&{key:e.key})})),d.search.page=1,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error("".concat(e.t0,"ðŸ’¥")),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.search.page;d.search.page=e;var t=(e-1)*d.search.resultsPerPage,n=e*d.search.resultsPerPage;return d.search.results.slice(t,n)},m=function(){localStorage.setItem("bookmarks",JSON.stringify(d.bookmarks))},g=function(e){d.bookmarks.push(e),e.id===d.recipe.id&&(d.recipe.bookmarked=!0),m()};(p=localStorage.getItem("bookmarks"))&&(d.bookmarks=JSON.parse(p));var _,w=function(){var e=u(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.entries(t).filter((function(e){return e[0].startsWith("ingredient")&&""!==e[1]})).map((function(e){var t=e[1].split(",").map((function(e){return e.trim()}));if(3!==t.length)throw new Error("wrong ingredient format Please use the correct format");var n=i(t,3),r=n[0];return{quantity:r?+r:null,unit:n[1],description:n[2]}})),r={title:t.title,source_url:t.sourceUrl,image_url:t.image,publisher:t.publisher,cooking_time:+t.cookingTime,servings:+t.servings,ingredients:n},e.next=5,o("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?key=").concat("1f4fae44-e9e4-44e0-b64b-1bbc12187227"),r);case 5:a=e.sent,d.recipe=h(a),g(d.recipe),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=null;var O,S=function(){return k||(k=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return(""+e[0]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}()),k},j=t;function P(e){if(""===e)return".";var t="/"===e[e.length-1]?e.slice(0,e.length-1):e,n=t.lastIndexOf("/");return-1===n?".":t.slice(0,n)}function E(e,t){if(e===t)return"";var n=e.split("/");"."===n[0]&&n.shift();var r,o,i=t.split("/");for("."===i[0]&&i.shift(),r=0;(r<i.length||r<n.length)&&null==o;r++)n[r]!==i[r]&&(o=r);var a=[];for(r=0;r<n.length-o;r++)a.push("..");return i.length>o&&a.push.apply(a,i.slice(o)),a.join("/")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(O=function(e,t){return E(P(j(e)),j(t))})._dirname=P,O._relative=E,_=S()+O("37e394cf82e42d68","2c7a91cd6e04815d");var x,F,M,A=(x=_)&&x.__esModule?x.default:x,T=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="_data")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"render",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;var n=this._generateMarkup();if(!t)return n;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}},{key:"update",value:function(e){this._data=e;var t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),o=Array.from(this._parentElement.querySelectorAll("*"));r.forEach((function(e,t){var n,r=o[t];e.isEqualNode(r)||""===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeValue.trim())||(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach((function(e){return r.setAttribute(e.name,e.value)}))}))}},{key:"_clear",value:function(){this._parentElement.innerHTML=""}},{key:"renderSpinner",value:function(){var e='\n       <div class="spinner">\n      <svg>\n        <use href="'.concat(A,'#icon-loader"></use>\n      </svg>\n    </div> ');this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",e)}},{key:"renderError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._errorMessage,t='\n      <div class="error">\n          <div>\n              <svg>\n                  <use href="'.concat(A,'#icon-alert-triangle"></use>\n              </svg>\n          </div>\n          <p>').concat(e,"</p>\n      </div> \n        ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}},{key:"renderMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._successMessage,t='\n      <div class="message">\n          <div>\n              <svg>\n                  <use href="'.concat(A,'#icon-smile"></use>\n              </svg>\n          </div>\n          <p>').concat(e,"</p>\n      </div> \n        ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}}])&&R(t.prototype,n),r&&R(t,r),e}();Fraction=function(e,t){if(void 0!==e&&t)"number"==typeof e&&"number"==typeof t?(this.numerator=e,this.denominator=t):"string"==typeof e&&"string"==typeof t&&(this.numerator=parseInt(e),this.denominator=parseInt(t));else if(void 0===t)if(num=e,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,r,o=num.split(" ");if(o[0]&&(n=o[0]),o[1]&&(r=o[1]),n%1==0&&r&&r.match("/"))return new Fraction(n).add(new Fraction(r));if(!n||r)return;if("string"==typeof n&&n.match("/")){var i=n.split("/");this.numerator=i[0],this.denominator=i[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}this.normalize()},Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var e=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),t=this.numerator%this.denominator,n=this.denominator,r=[];return 0!=e&&r.push(e),0!=t&&r.push((0===e?t:Math.abs(t))+"/"+n),r.length>0?r.join(" "):0},Fraction.prototype.rescale=function(e){return this.numerator*=e,this.denominator*=e,this},Fraction.prototype.add=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator+=e.numerator,t.normalize()},Fraction.prototype.subtract=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator-=e.numerator,t.normalize()},Fraction.prototype.multiply=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.numerator,t.denominator*=e.denominator;else{if("number"!=typeof e)return t.multiply(new Fraction(e));t.numerator*=e}return t.normalize()},Fraction.prototype.divide=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.denominator,t.denominator*=e.numerator;else{if("number"!=typeof e)return t.divide(new Fraction(e));t.denominator*=e}return t.normalize()},Fraction.prototype.equals=function(e){e instanceof Fraction||(e=new Fraction(e));var t=this.clone().normalize();e=e.clone().normalize();return t.numerator===e.numerator&&t.denominator===e.denominator},Fraction.prototype.normalize=(F=function(e){return"number"==typeof e&&(e>0&&e%1>0&&e%1<1||e<0&&e%-1<0&&e%-1>-1)},M=function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},function(){if(F(this.denominator)){var e=M(this.denominator,9),t=Math.pow(10,e.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*t),this.numerator*=t}F(this.numerator)&&(e=M(this.numerator,9),t=Math.pow(10,e.toString().split(".")[1].length),this.numerator=Math.round(this.numerator*t),this.denominator*=t);var n=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=n,this.denominator/=n,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(e,t){var n=[],r=Fraction.primeFactors(e),o=Fraction.primeFactors(t);return r.forEach((function(e){var t=o.indexOf(e);t>=0&&(n.push(e),o.splice(t,1))})),0===n.length?1:function(){var e,t=n[0];for(e=1;e<n.length;e++)t*=n[e];return t}()},Fraction.primeFactors=function(e){for(var t=Math.abs(e),n=[],r=2;r*r<=t;)t%r==0?(n.push(r),t/=r):r++;return 1!=t&&n.push(t),n};var H=Fraction;function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=L(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(W(e=o.call.apply(o,[this].concat(n))),"_parentElement",document.querySelector(".recipe")),z(W(e),"_errorMessage","We coud not find that recipe please try another one!"),z(W(e),"_message",""),e}return t=i,(n=[{key:"addHandlerRender",value:function(e){["hashchange","load"].forEach((function(t){return window.addEventListener(t,e)}))}},{key:"addHandlerUpdateServings",value:function(e){this._parentElement.addEventListener("click",(function(t){var n=t.target.closest(".btn--update-servings");if(n){var r=n.dataset.updateTo;+r>0&&e(+r)}}))}},{key:"addHandlerAddBookmark",value:function(e){this._parentElement.addEventListener("click",(function(t){t.target.closest(".btn--bookmark")&&e()}))}},{key:"_generateMarkup",value:function(){return'\n    <figure class="recipe__fig">\n      <img src="'.concat(this._data.image,'" alt="Tomato" class="recipe__img" />\n      <h1 class="recipe__title">\n        <span>').concat(this._data.title,'</span>\n      </h1>\n    </figure>\n\n    <div class="recipe__details">\n      <div class="recipe__info">\n        <svg class="recipe__info-icon">\n          <use href="').concat(A,'#icon-clock"></use>\n        </svg>\n        <span class="recipe__info-data recipe__info-data--minutes">').concat(this._data.cookingTime,'</span>\n        <span class="recipe__info-text">minutes</span>\n      </div>\n      <div class="recipe__info">\n        <svg class="recipe__info-icon">\n').concat(A,'#icon-users"></use>\n        </svg>\n        <span class="recipe__info-data recipe__info-data--people">').concat(this._data.servings,'</span>\n        <span class="recipe__info-text">servings</span>\n\n        <div class="recipe__info-buttons">\n          <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings-1,'">\n            <svg>\n              <use href="').concat(A,'#icon-minus-circle"></use>\n            </svg>\n          </button>\n          <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings+1,'">\n            <svg>\n              <use href="').concat(A,'#icon-plus-circle"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <div class="recipe__user-generated ').concat(this._data.key?"":"hidden",'">\n        <svg>\n          <use href="').concat(A,'#icon-user"></use>\n        </svg>\n      </div>\n        \n      </div>\n      <button class="btn--round btn--bookmark">\n        <svg class="">\n          <use href="').concat(A,"#icon-bookmark").concat(this._data.bookmarked?"-fill":"",'"></use>\n        </svg>\n      </button>\n    </div>\n\n    <div class="recipe__ingredients">\n      <h2 class="heading--2">Recipe ingredients</h2>\n      <ul class="recipe__ingredient-list">\n      ').concat(this._data.ingredients.map(this._generateMarkupIngredieant).join(""),'\n      </ul>\n    </div>\n\n    <div class="recipe__directions">\n      <h2 class="heading--2">How to cook it</h2>\n      <p class="recipe__directions-text">\n        This recipe was carefully designed and tested by\n        <span class="recipe__publisher">').concat(this._data.publisher,'</span>. Please check out\n        directions at their website.\n      </p>\n      <a\n        class="btn--small recipe__btn"\n        href="').concat(this._data.sourceUrl,'"\n        target="_blank"\n      >\n        <span>Directions</span>\n        <svg class="search__icon">\n          <use href="').concat(A,'#icon-arrow-right"></use>\n        </svg>\n      </a>\n    </div>\n    ')}},{key:"_generateMarkupIngredieant",value:function(e){return'\n      <li class="recipe__ingredient">\n        <svg class="recipe__icon">\n          <use href="'.concat(A,'#icon-check"></use>\n        </svg>\n        <div class="recipe__quantity">').concat(e.quantity?new H(e.quantity).toString():"",'</div>\n        <div class="recipe__description">\n          <span class="recipe__unit">').concat(e.unit,"</span>\n          ").concat(e.description,"\n        </div>\n      </li>\n      ")}}])&&D(t.prototype,n),r&&D(t,r),i}(T));function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=new(function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="_parentEl",r=document.querySelector(".search"),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"getQuery",value:function(){var e=this._parentEl.querySelector(".search__field").value;return this._clearInput(),e}},{key:"_clearInput",value:function(){this._parentEl.querySelector(".search__field").value=""}},{key:"addHandlerSearch",value:function(e){this._parentEl.addEventListener("submit",(function(t){t.preventDefault(),e()}))}}])&&$(t.prototype,n),r&&$(t,r),e}());function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(i,e);var t,n,r,o=X(i);function i(){var e;V(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te(Z(e=o.call.apply(o,[this].concat(n))),"_parentElement",""),e}return t=i,(n=[{key:"_generateMarkup",value:function(){var e=window.location.hash.slice(1);return'    \n    <li class="preview">\n      <a class="preview__link '.concat(this._data.id===e?"preview__link--active":"",'" href="#').concat(this._data.id,'">\n        <figure class="preview__fig">\n          <img src="').concat(this._data.image,'" alt="').concat(this._data.title,'" />\n        </figure>\n        <div class="preview__data">\n          <h4 class="preview__title">').concat(this._data.title,'</h4>\n          <p class="preview__publisher">').concat(this._data.publisher,'</p>        \n          <div class="preview__user-generated ').concat(this._data.key?"":"hidden",'">\n            <svg>\n              <use href="').concat(A,'#icon-user"></use>\n            </svg>\n          </div>\n        </div>\n      </a>\n    </li>\n')}}])&&G(t.prototype,n),r&&G(t,r),i}(T));function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(i,e);var t,n,r,o=ce(i);function i(){var e;oe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fe(se(e=o.call.apply(o,[this].concat(n))),"_parentElement",document.querySelector(".results")),fe(se(e),"_errorMessage","No recipes found for your query! Please try again"),fe(se(e),"_message",""),e}return t=i,(n=[{key:"_generateMarkup",value:function(){return this._data.map((function(e){return ne.render(e,!1)})).join("")}}])&&ie(t.prototype,n),r&&ie(t,r),i}(T));function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(i,e);var t,n,r,o=be(i);function i(){var e;he(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return we(ge(e=o.call.apply(o,[this].concat(n))),"_parentElement",document.querySelector(".pagination")),e}return t=i,(n=[{key:"addHandlerClick",value:function(e){this._parentElement.addEventListener("click",(function(t){var n=t.target.closest(".btn--inline");if(n){var r=+n.dataset.goto;e(r)}}))}},{key:"_generateMarkup",value:function(){var e=this._data.page,t=Math.ceil(this._data.results.length/this._data.resultsPerPage);return 1===e&&t>1?'\n        <button data-goto ="'.concat(e+1,'"  class="btn--inline pagination__btn--next">\n            <span>').concat(e+1,'</span>\n            <svg class="search__icon">\n              <use href="').concat(A,'#icon-arrow-right"></use>\n            </svg>\n        </button>\n      '):e===t&&t>1?'\n        <button data-goto ="'.concat(e-1,'" class="btn--inline pagination__btn--prev">\n            <svg class="search__icon">\n              <use href="').concat(A,'#icon-arrow-left"></use>\n            </svg>\n            <span>').concat(e-1,"</span>\n        </button>\n      "):e<t?'\n        <button data-goto ="'.concat(e-1,'" class="btn--inline pagination__btn--prev">\n            <svg class="search__icon">\n              <use href="').concat(A,'#icon-arrow-left"></use>\n            </svg>\n            <span>').concat(e-1,'</span>\n        </button>\n        <button data-goto ="').concat(e+1,'" class="btn--inline pagination__btn--next">\n            <span>').concat(e+1,'</span>\n            <svg class="search__icon">\n              <use href="').concat(A,'#icon-arrow-right"></use>\n            </svg>\n        </button>\n      '):""}}])&&ye(t.prototype,n),r&&ye(t,r),i}(T));function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){var e;Se(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Me(xe(e=o.call.apply(o,[this].concat(n))),"_parentElement",document.querySelector(".bookmarks__list")),Me(xe(e),"_errorMessage","No bookmarks yet. Find a nice recipe and bookmark it:)"),Me(xe(e),"_message",""),e}return t=i,(n=[{key:"addHandlerRender",value:function(e){window.addEventListener("load",e)}},{key:"_generateMarkup",value:function(){return this._data.map((function(e){return ne.render(e,!1)})).join("")}}])&&je(t.prototype,n),r&&je(t,r),i}(T));function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(i,e);var t,n,r,o=Ie(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ue(Ne(e=o.call(this)),"_parentElement",document.querySelector(".upload")),Ue(Ne(e),"_message","Recipe was successfully uploaded"),Ue(Ne(e),"_window",document.querySelector(".add-recipe-window")),Ue(Ne(e),"_overlay",document.querySelector(".overlay")),Ue(Ne(e),"_btnOpen",document.querySelector(".nav__btn--add-recipe")),Ue(Ne(e),"_btnClose",document.querySelector(".btn--close-modal")),e._addHandlerShowWindow(),e._addHandlerHideWindow(),e}return t=i,(n=[{key:"toggleWindow",value:function(){this._overlay.classList.toggle("hidden"),this._window.classList.toggle("hidden")}},{key:"_addHandlerShowWindow",value:function(){this._btnOpen.addEventListener("click",this.toggleWindow.bind(this))}},{key:"_addHandlerHideWindow",value:function(){this._btnClose.addEventListener("click",this.toggleWindow.bind(this)),this._overlay.addEventListener("click",this.toggleWindow.bind(this))}},{key:"addHandlerUpload",value:function(e){this._parentElement.addEventListener("submit",(function(t){t.preventDefault();var n=He(new FormData(this)),r=Object.fromEntries(n);e(r)}))}},{key:"_generateMarkup",value:function(){}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(T));function Je(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Je(i,r,o,a,c,"next",e)}function c(e){Je(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Be=function(){var e=$e(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window.location.hash.slice(1)){e.next=4;break}return e.abrupt("return");case 4:return J.renderSpinner(),Ae.update(d.bookmarks),pe.update(b()),e.next=9,y(t);case 9:J.render(d.recipe),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),J.renderError();case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=$e(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,pe.renderSpinner(),t=B.getQuery()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,v(t);case 7:pe.render(b()),ke.render(d.search),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(e){pe.render(b(e)),ke.render(d.search)},Ge=function(e){!function(e){d.recipe.ingredients.forEach((function(t){t.quantity=t.quantity*e/d.recipe.servings})),d.recipe.servings=e}(e),J.update(d.recipe)},Ke=function(){var e,t;d.recipe.bookmarked?(e=d.recipe.id,t=d.bookmarks.findIndex((function(t){return t.id===e})),d.bookmarks.splice(t,1),e===d.recipe.id&&(d.recipe.bookmarked=!1),m()):g(d.recipe),J.update(d.recipe),Ae.render(d.bookmarks)},Xe=function(){Ae.render(d.bookmarks)},Ye=function(){var e=$e(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ze.renderSpinner(),e.next=4,w(t);case 4:console.log(d.recipe),J.render(d.recipe),ze.renderMessage(),Ae.render(d.bookmarks),window.history.pushState(null,"","#".concat(d.recipe.id)),setTimeout((function(){ze.toggleWindow()}),2500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("ðŸ’¥",e.t0),ze.renderError(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Ae.addHandlerRender(Xe),J.addHandlerRender(Be),J.addHandlerUpdateServings(Ge),J.addHandlerAddBookmark(Ke),B.addHandlerSearch(Qe),ke.addHandlerClick(Ve),ze.addHandlerUpload(Ye)}();
//# sourceMappingURL=controller.59473b61.js.map
